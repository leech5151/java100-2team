
<div class="modal-header" style="padding: 10% 5%;">
            <button id="cancelBtn" type="button" class="close">&times;</button>
            <h4>
                <span class="glyphicon glyphicon-lock"></span> Login
            </h4>
        </div>
        <div class="modal-body" style="padding: 40px 20px;">
            <form id="loginForm" method="POST" role="form">
                <div class="form-group">
                    <label for="email"><span class="glyphicon glyphicon-user"></span>
                        이메일</label> <input type="text" class="form-control" id="email"
                        placeholder="Enter email">
                </div>
        
                <div class="form-group">
                    <label for="password"><span
                        class="glyphicon glyphicon-eye-open"></span> 암호</label> <input
                        type="password" class="form-control" id="password"
                        placeholder="Enter password">
                </div>
        
                <div class="checkbox">
                    <label><input type="checkbox" checked id="saveEmail"
                        name="saveEmail">Remember me</label>
                </div>
        
                <button id="loginBtn2" type="button"
                    class="btn btn-success btn-block">
                    <span class="glyphicon glyphicon-off"></span> Login
                </button>
                <p>
                <fb:login-button scope="public_profile,email" 
                onlogin="checkLoginState();">
                </fb:login-button>  
                </p>
                <a id="kakaoLoginBtn"></a>
            </form>
        </div>
        
        <footer>
            <div style="margin-left: 6%;">
                아직 회원이 아니신가요? <a href="#">Sign Up</a>
                <br>
                비밀번호를 잊어버리셨나요? <a href="#">Password?</a>
            </div>
        </footer>
        
<script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>

<script type="text/javascript">
var loginForm = $('#loginForm'),
    loginBtn2 = $('#loginBtn2'),
    email = $('#email'),
    password = $('#password'),
    saveEmail = $('#saveEmail');

loginBtn2.click(() => {
    
    $.post('../../json/auth/login', {
        email: email.val(),
        password: password.val(),
        saveEmail: saveEmail.is(':checked') 
    }, function(result) {
        if (result.status == "success") {
            location.href = "home.html"
        } else {
            swal("로그인실패!", "이메일이나 암호를 확인 해주세요!", "error");
        }
    }, 'json');
    
});

</script>

<script type="text/javascript">

function autoServerLogin(accessToken) {
    $.getJSON(
        '../../json/auth/facebookLogin', 
        {'accessToken': accessToken}, 
        function(result) {
            console.log(result.status);
          if (result.status == 'success') {
              location.href = 'home.html';
          } else {
              swal("로그인실패!", "로그인에 실패하였습니다.", "error");
          }
    });
}
 
function statusChangeCallback(response) {

  if (response.status === 'connected') { // 로그인이 정상적으로 되었을 때,
      autoServerLogin(response.authResponse.accessToken);
  
  } else { // 로그인이 되지 않았을 때,
      console.log("로그인 되지 않았음");
  }
}

  
function checkLoginState() {
    FB.getLoginStatus(function(response) { 
      statusChangeCallback(response);
    });
}

window.fbAsyncInit = function() {
  FB.init({
    appId      : '1608875912532374', // 개발자가 등록한 앱 ID
    cookie     : true,  
    xfbml      : true,  
    version    : 'v2.12' 
  });
};

(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "https://connect.facebook.net/en_US/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>



<script type='text/javascript'>
    Kakao.init('ff1cbf9468f0d7759d24a8472491276e');
    Kakao.Auth.createLoginButton({
      container: '#kakaoLoginBtn',
      success: function(authObj) {
          $.getJSON(
                '../../json/auth/kakaotalkLogin', 
                {"access_token":authObj.access_token},
                function(result) {
                  if (result.status == 'success') {
                      location.href = '../main/home.html';
                  } else {
                      swal("로그인실패!", "로그인에 실패하였습니다.", "error");
                  }
            });
      },
      fail: function(err) {
         alert(JSON.stringify(err));
      }
    });
    
</script>

<script type="text/javascript">
$(document).ready(function(){ 
    $('#cancelBtn').click(() => {
      document.getElementById("loginSection").style.transform = "translateX(200%)";
    });
    
});
</script>