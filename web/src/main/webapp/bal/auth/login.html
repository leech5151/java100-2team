    <!-- 모달땜에 추가 -->
<style>
  .modal-header, h4, .close {
      background-color: #5cb85c;
      color:white !important;
      text-align: center;
      font-size: 30px;
  }
  .modal-footer {
      background-color: #f9f9f9;
  }
  </style> 

    <!-- Modal 
    <div class="modal fade" id="myModal" role="dialog">-->
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header" style="padding: 35px 50px;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4>
                        <span class="glyphicon glyphicon-lock"></span> Login
                    </h4>
                </div>
                <div class="modal-body" style="padding: 40px 50px;">
                    <form id="loginForm" method="POST" role="form">
                        <div class="form-group">
                            <label for="email"><span class="glyphicon glyphicon-user"></span>
                                이메일</label> <input type="text" class="form-control" id="email"
                                placeholder="Enter email">
                        </div>

                        <div class="form-group">
                            <label for="password"><span
                                class="glyphicon glyphicon-eye-open"></span> 암호</label> <input
                                type="password" class="form-control" id="password"
                                placeholder="Enter password">
                        </div>

                        <div class="checkbox">
                            <label><input type="checkbox" checked id="saveEmail"
                                name="saveEmail">Remember me</label>
                        </div>

                        <button id="loginBtn2" type="button"
                            class="btn btn-success btn-block">
                            <span class="glyphicon glyphicon-off"></span> Login
                        </button>
                        <p>
                        <fb:login-button scope="public_profile,email" 
                        onlogin="checkLoginState();">
                        </fb:login-button>  
                        </p>
                    </form>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn btn-danger btn-default pull-left"
                        data-dismiss="modal">
                        <span class="glyphicon glyphicon-remove"></span> Cancel
                    </button>
                    <p>
                        Not a member? <a href="#">Sign Up</a>
                    </p>
                    <p>
                        Forgot <a href="#">Password?</a>
                    </p>
                </div>
            </div>

        </div>
    <!-- </div> -->
<script type="text/javascript">
var loginForm = $('#loginForm'),
    loginBtn2 = $('#loginBtn2'),
    email = $('#email'),
    password = $('#password'),
    saveEmail = $('#saveEmail');


loginBtn2.click(() => {
    console.log(email.val(), password.val() , saveEmail.is(':checked'));
    
    $.post('../../json/auth/login', {
        email: email.val(),
        password: password.val(),
        saveEmail: saveEmail.is(':checked') 
    }, function(result) {
        if (result.status == "success") {
            location.href = "../main/home.html"
        } else {
            swal("로그인실패!", "이메일이나 암호를 확인 해주세요!", "error");
        }
    }, 'json');
    
});

loginBtn.click(() => {
    myModal.modal();
});

</script>

<script type="text/javascript">
function autoServerLogin(accessToken) {
    $.getJSON(
        '../json/auth/facebookLogin', 
        {'accessToken': accessToken}, 
        function(result) {
          if (result.status == 'success') {
              location.href = '../score/list.html';
          } else {
              window.alert('로그인 실패입니다!');
          }
    });
}

function statusChangeCallback(response) {
  console.log(response);

  if (response.status === 'connected') { // 로그인이 정상적으로 되었을 때,
      autoServerLogin(response.authResponse.accessToken);
  
  } else { // 로그인이 되지 않았을 때,
      console.log("로그인 되지 않았음");
  }
}
  
function checkLoginState() {
    FB.getLoginStatus(function(response) { 
      statusChangeCallback(response);
    });
}

window.fbAsyncInit = function() {
  FB.init({
    appId      : '1207028086096146', // 개발자가 등록한 앱 ID
    cookie     : true,  
    xfbml      : true,  
    version    : 'v2.12' 
  });
};

(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	  if (d.getElementById(id)) return;
	  js = d.createElement(s); js.id = id;
	  js.src = "https://connect.facebook.net/en_US/sdk.js";
	  fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
</script>
        
