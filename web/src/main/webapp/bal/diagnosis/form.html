
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Motion blur effect for HTML elements using SVG filters" />
<meta name="keywords" content="motion blur, html, css, svg, filter, javascript, web design, image gallery" />
<meta name="author" content="Lucas Bebber for Codrops" />
<link rel="shortcut icon" href="../favicon.ico">

<link rel="stylesheet" type="text/css" href="../../css/diagnosis/font-awesome-4.3.0/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="../../css/diagnosis/diagnosisdemo.css" />
<link rel="stylesheet" href='../../node_modules/jquery-ui-dist/jquery-ui.css' />
<link rel='stylesheet' href='../../node_modules/bootstrap/dist/css/bootstrap.min.css'>
<style>
 nav li a {
  text-decoration: inherit;
  padding: 20px 0px;
  color: white;
  display: block;
  text-transform: uppercase;
  transition: all 0.4s;
  -webkit-transition: all 0.4s;
}

</style>
<div id=diagnosis_form>
	<div class="container_b">
		<header class="codrops-header" style="margin-bottom: -4%">
			<h1>
				Motion Blur Effect with SVG<span>by <a
					href="../main/home.html#together">pet together</a></span>
			</h1>
			<nav class="codrops-demos">

				<a href="../diagnosis/list.html">Menu</a> <a data-toggle="modal"
					id="diagnosisInfo" class="open-modal" href="#diagnosisModalView">information</a>

				<a class="current-demo" href="form.html">Image Gallery</a>
				<div class="modal fade" role="dialog" id="doagnosisModalView">
					<div class="modal-dialog">
						<div class="modal-content" id=modal_view_content>
						</div>
					</div>
				</div>
			</nav>
		</header>
		<div style="width: 27%; text-align: left; margin-bottom: 1%; margin-left:18%; display: inline-block;border: solid 1px green">
			<input type="text" readonly="readonly" id="selectDate" class="selectDate calendar" style="font-size:15px; height: 40px; background-image:url(../../images/button/calendar48_2.png); background-repeat: no-repeat; background-position: right; background-size: 40px">
			<a>~</a>
			<input type="text" readonly="readonly" id="nowDate" class="nowDate calendar" style="font-size:15px; height: 40px; background-image:url(../../images/button/calendar48_2.png); background-repeat: no-repeat; background-position: right; background-size: 40px">
		<img id="123" src="../../images/button/menu.png" height="32" width="32" style="margin-bottom: -10px" ></img>
		</div>
		 <nav id="navigation-list">
   		 <ul style="list-style: none; position: relative; float: left;">
     	 <li><div class="dropdownlist"><input type="number" value="5" style="display: none;">Show 5</div></li>
      	 <li><div class="dropdownlist"><input type="number" value="10" style="display: none;">Show 10</div></li>
     	 <li><div class="dropdownlist"><input type="number" value="15" style="display: none;">Show 15</div></li>
     	 <li><div class="dropdownlist" id="allDateList">Show All</div></li>
   		 </ul>
  		 </nav>
		
	<!-- -------------------------------- -->
	
	<!-- -------------------------------- -->		
		<div style="width:70%; margin-left:15%; margin-right:15%; margin-bottom:0.5%;text-align:center">
			<div style='width:10%; display:inline-block; ; font-size:20px;'>No</div><div style='width:20%; display:inline-block; ; font-size:20px;'>Hospital</div><div style='width:10%; display:inline-block; ; font-size:20px;'>Customer</div><div style='width:20%; display:inline-block; ; font-size:20px;'>Date</div><div style='width:10%; display:inline-block; ; font-size:20px;'>Category</div><div style='width:10%; display:inline-block; ; font-size:20px;'>Medical name</div><div style='width:20%; display:inline-block; ; font-size:20px;'>Contents</div>
		</div>

		<div id="diagnosisbody">
		
		
		</div>
		<div class="container">
			 <nav aria-label="Page navigation">
 			 <ul class="pagination justify-content-center">
    		 <li class="page-item"><a id="prevBtn" class="page-link" tabindex="-1">이전</a></li>
             <li class="page-item"><a id="currBtn" class="page-link" href="#">1</a></li>
    		 <li class="page-item"><a id="nextBtn" class="page-link" tabindex="0">다음</a></li>
 		 </ul>
		</nav>
		
		</div>

		<!-- Related demos -->
	</div>
	<!-- /container -->
</div>
<script src='../../node_modules/jquery/dist/jquery.min.js'></script>
<script src='../../node_modules/popper.js/dist/umd/popper.min.js'></script>
<script src='../../node_modules/bootstrap/dist/js/bootstrap.min.js'></script>
<script src='../../node_modules/jquery-ui-dist/jquery-ui.js'></script>

<script>
var prevBtn = $('#prevBtn'),
currBtn = $('#currBtn'),
nextBtn = $('#nextBtn'),
currPageNo =1,
pageSize = 1000;

var nowDate = new Date();
var date = new Date();
var year = nowDate.getFullYear();
var month = nowDate.getMonth()+1
var day = nowDate.getDate();
if(month < 10){
    month = "0"+month;
}
if(day < 10){
    day = "0"+day;
}
var resultNowDate = year+"-"+month+"-"+day;
var selectDate = nowDate.getTime() - (30*24*60*60*1000);
nowDate.setTime(selectDate);

var selectYear = nowDate.getFullYear();
var selectMonth = nowDate.getMonth() +1;
var selectDay = nowDate.getDate();
if(selectMonth < 10){ selectMonth = "0" + selectMonth}
if(selectDay < 10) {selectDay = "0"+selectDay}

var resultSelectDate = selectYear+"-"+selectMonth+"-" + selectDay;


document.getElementById('selectDate').value = resultSelectDate;
document.getElementById('nowDate').value = resultNowDate;

var dateItem=$('#selectDate'),
	nowDateItem=$('#nowDate'),
	allDateBtn=$('#allDateList');

$.datepicker.regional['kr'] = {
			//showOn: "both", // 버튼과 텍스트 필드 모두 캘린더를 보여준다.
			//buttonImage: "../../images/button/calendar48_2.png", // 버튼 이미지
		 	//buttonImageOnly: true, // 버튼에 있는 이미지만 표시한다.
			dateFormat: 'yy-mm-dd',
	        prevText: '이전 달',
	        nextText: '다음 달',
	        monthNames: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
	        monthNamesShort: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
	        dayNames: ['일', '월', '화', '수', '목', '금', '토'],
	        dayNamesShort: ['일', '월', '화', '수', '목', '금', '토'],
	        dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],
	        showMonthAfterYear: true,
	        yearSuffix: '년',
	        showButtonPanel: true, // 캘린더 하단에 버튼 패널을 표시한다. 
	        currentText: '오늘 날짜' , // 오늘 날짜로 이동하는 버튼 패널
	        closeText: '닫기',  // 닫기 버튼 패널
	        yearRange: 'c-1000:c+100', // 년도 선택 셀렉트박스를 현재 년도에서 이전, 이후로 얼마의 범위를 표시할것인가.
	        changeMonth: true, // 월을 바꿀수 있는 셀렉트 박스를 표시한다.
	        changeYear: true, // 년을 바꿀 수 있는 셀렉트 박스를 표시한다.
	        numberOfMonths: [1,1],
	        showOtherMonths: true,
	        showAnim: 'slideDown',
	        
	};

	$.datepicker.setDefaults($.datepicker.regional['kr']);
	$("#navigation-list").hide();
	$("#123").click(function() {
	$("#navigation-list").toggle();
	
	});
	
	
	// 페이지 시작 ajax로딩
	
	startpage();
	function startpage(){
	        $.ajax('../../json/diagnosis/mylist', {
	        	data: { 
				       dateRecording: dateItem.val(),
				       nowDateRecording: nowDateItem.val()
	        	},
	            dataType: 'json',
	            method: 'POST',
	            success: (result) => {
	            	 $('#diagnosisbody').html("");
	                for (var data of result.list) {
	                	$('<div class="modalList" style="width:70%; margin-left:15%; margin-right:15%; margin-bottom:0.5%;text-align:center">')
	                        .html(  
	                        	       "<div style='width:10%; display:inline-block; ; '>" + data.diagnosisNo + "</div>" + 
			                            "<div style='width:20%; display:inline-block; ; '>"+ data.hospital.hospitalName + "</div>" + 
			                            "<div style='width:10%; display:inline-block;; '>" + data.memberName + "</div>" +
			                            "<div style='width:20%; display:inline-block;; '>" + data.dateRecording + "</div>" +
			                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisCategory + "</div>" +
			                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisName + "</div>" +
			                            "<div style='width:20%; display:inline-block;; '>" + data.diagnosisContents + "</div>")
			                            .appendTo('#diagnosisbody'); 
	                }
	             	$(prevBtn.parent()).css("display","none");
	            	$(currBtn.parent()).css("display","none");
	                $(nextBtn.parent()).css("display","none");
	            },
	            error: () => {
	            }
	        });
	    }
	
	// 데이트피커 선택날짜 리스트
	$(".selectDate").datepicker({
		onSelect:  function selectdatepicker(dateText, inst) {
			load(1);
			function load(pageNo, options){
				
			    if (options == undefined) options = {};
			       options.pn = pageNo;
			       $.ajax('../../json/diagnosis/mypagesizelist', {
			           data: { 
			        	   options,
			        	   pageNo: pageNo,
			        	   pageSize: pageSize,
					       dateRecording: dateItem.val(),
					       nowDateRecording: nowDateItem.val()
			    			},
						       
			           dataType: 'json',
			           success: (result) => {
			               
			           	$('#diagnosisbody').html("");
			               for (var data of result.list) {
			            		$('<div class="modalList" style="width:70%; margin-left:15%; margin-right:15%; margin-bottom:0.5%;text-align:center">')
		                        .html(  
		                        	       "<div style='width:10%; display:inline-block; ; '>" + data.diagnosisNo + "</div>" + 
				                            "<div style='width:20%; display:inline-block; ; '>"+ data.hospital.hospitalName + "</div>" + 
				                            "<div style='width:10%; display:inline-block;; '>" + data.memberName + "</div>" +
				                            "<div style='width:20%; display:inline-block;; '>" + data.dateRecording + "</div>" +
				                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisCategory + "</div>" +
				                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisName + "</div>" +
				                            "<div style='width:20%; display:inline-block;; '>" + data.diagnosisContents + "</div>")
				                            .appendTo('#diagnosisbody'); 
			               }
			               
			               currPageNo = result.pageNo;
			               currBtn.html(currPageNo);
			               
			               if (result.pageNo == 1) {
			                   $(prevBtn.parent()).addClass("disabled"); 
			               } else {
			                   $(prevBtn.parent()).removeClass("disabled");
			               }
			               
			               if (result.lastPageNo == result.pageNo) {
			                   $(nextBtn.parent()).addClass("disabled");
			               } else {
			                   $(nextBtn.parent()).removeClass("disabled");
			               }
			           },
			           error: () => {
			           }
			       });
			   }
			}
	});
	
	// 데이트피커 현재날짜 선택시  
	$(".nowDate").datepicker({
		onSelect: function selectdatepicker(dateText, inst) {
			load(1);
			function load(pageNo, options){
				
			    if (options == undefined) options = {};
			       options.pn = pageNo;
			       $.ajax('../../json/diagnosis/mypagesizelist', {
			           data: { 
			        	   options,
			        	   pageNo: pageNo,
			        	   pageSize: pageSize,
					       dateRecording: dateItem.val(),
					       nowDateRecording: nowDateItem.val()
			    			},
						       
			           dataType: 'json',
			           success: (result) => {
			               
			           	$('#diagnosisbody').html("");
			               for (var data of result.list) {
			            		$('<div class="modalList" style="width:70%; margin-left:15%; margin-right:15%; margin-bottom:0.5%;text-align:center">')
		                        .html(  
		                        	       "<div style='width:10%; display:inline-block; ; '>" + data.diagnosisNo + "</div>" + 
				                            "<div style='width:20%; display:inline-block; ; '>"+ data.hospital.hospitalName + "</div>" + 
				                            "<div style='width:10%; display:inline-block;; '>" + data.memberName + "</div>" +
				                            "<div style='width:20%; display:inline-block;; '>" + data.dateRecording + "</div>" +
				                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisCategory + "</div>" +
				                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisName + "</div>" +
				                            "<div style='width:20%; display:inline-block;; '>" + data.diagnosisContents + "</div>")
				                            .appendTo('#diagnosisbody'); 
			               }
			               
			               currPageNo = result.pageNo;
			               currBtn.html(currPageNo);
			               
			               if (result.pageNo == 1) {
			                   $(prevBtn.parent()).addClass("disabled"); 
			               } else {
			                   $(prevBtn.parent()).removeClass("disabled");
			               }
			               
			               if (result.lastPageNo == result.pageNo) {
			                   $(nextBtn.parent()).addClass("disabled");
			               } else {
			                   $(nextBtn.parent()).removeClass("disabled");
			               }
			           },
			           error: () => {
			           }
			       });
			   }
			}
	});


// 모든 리스트 출력
/* allDateBtn.click(() =>{
	 $.ajax('../../json/diagnosis/myAlllist', {
         dataType: 'json',
         success: (result) => {
        	 $('#diagnosisbody').html("");
             for (var data of result.list) {
            	 $('<div class="modalList" style="width:70%; margin-left:15%; margin-right:15%; margin-bottom:0.5%;text-align:center">')
                     .html(  
                    	      "<div style='width:10%; display:inline-block'>" + data.diagnosisNo + "</div>" + 
	                            "<div id='modalList' style='width:20%; display:inline-block'>"+ data.hospital.hospitalName + "</div>" + 
	                            "<div id='modalList' style='width:10%; display:inline-block'>" + data.memberName + "</div>" +
	                            "<div id='modalList' style='width:20%; display:inline-block'>" + data.dateRecording + "</div>" +
	                            "<div id='modalList' style='width:10%; display:inline-block'>" + data.diagnosisCategory + "</div>" +
	                            "<div id='modalList' style='width:10%; display:inline-block'>" + data.diagnosisName + "</div>" +
	                            "<div id='modalList' style='width:20%; display:inline-block'>" + data.diagnosisContents + "</div>")
	                            .appendTo('#diagnosisbody');
             }
             $(prevBtn.parent()).css("display","block");
         	   $(currBtn.parent()).css("display","block");
             $(nextBtn.parent()).css("display","block");
         },
         error: () => {
         }
     });
	
})
 */




$(".dropdownlist").click( function(){
		if($(this).children().last().attr('value') == null){
			console.log('으으으으음 모든 리스트');
			loadAll();
		}else if($(this).children().last().attr('value') == 5){
			pageSize = $(this).children().attr('value');
			console.log(pageSize);
			load(1);
		}else if($(this).children().last().attr('value') == 10){
			pageSize = $(this).children().attr('value');
			console.log(pageSize);
			load(1);
		}else if($(this).children().last().attr('value') == 15){
			pageSize = $(this).children().attr('value');
			console.log(pageSize);
			load(1);
		}
});




function loadAll(pageNo, option){
$.ajax('../../json/diagnosis/myAlllist', {
    dataType: 'json',
    success: (result) => {
   	 $('#diagnosisbody').html("");
        for (var data of result.list) {
        	$('<div class="modalList" style="width:70%; margin-left:15%; margin-right:15%; margin-bottom:0.5%;text-align:center">')
            .html(  
            	       "<div style='width:10%; display:inline-block; ; '>" + data.diagnosisNo + "</div>" + 
                        "<div style='width:20%; display:inline-block; ; '>"+ data.hospital.hospitalName + "</div>" + 
                        "<div style='width:10%; display:inline-block;; '>" + data.memberName + "</div>" +
                        "<div style='width:20%; display:inline-block;; '>" + data.dateRecording + "</div>" +
                        "<div style='width:10%; display:inline-block;; '>" + data.diagnosisCategory + "</div>" +
                        "<div style='width:10%; display:inline-block;; '>" + data.diagnosisName + "</div>" +
                        "<div style='width:20%; display:inline-block;; '>" + data.diagnosisContents + "</div>")
                        .appendTo('#diagnosisbody'); 
        }
        	$(prevBtn.parent()).css("display","none");
        	$(currBtn.parent()).css("display","none");
            $(nextBtn.parent()).css("display","none");
    },
    error: () => {
    }
});
}

function load(pageNo, options){
    if (options == undefined) options = {};
       $.ajax('../../json/diagnosis/mypagesizelist', {
           data: { 
        	   options,
        	   pageNo: pageNo,
        	   pageSize: pageSize,
		       dateRecording: dateItem.val(),
		       nowDateRecording: nowDateItem.val()
    			},
			       
           dataType: 'json',
           success: (result) => {
               
           	$('#diagnosisbody').html("");
               for (var data of result.list) {
            		$('<div class="modalList" style="width:70%; margin-left:15%; margin-right:15%; margin-bottom:0.5%;text-align:center">')
                    .html(  
                    	       "<div style='width:10%; display:inline-block; ; '>" + data.diagnosisNo + "</div>" + 
	                            "<div style='width:20%; display:inline-block; ; '>"+ data.hospital.hospitalName + "</div>" + 
	                            "<div style='width:10%; display:inline-block;; '>" + data.memberName + "</div>" +
	                            "<div style='width:20%; display:inline-block;; '>" + data.dateRecording + "</div>" +
	                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisCategory + "</div>" +
	                            "<div style='width:10%; display:inline-block;; '>" + data.diagnosisName + "</div>" +
	                            "<div style='width:20%; display:inline-block;; '>" + data.diagnosisContents + "</div>")
	                            .appendTo('#diagnosisbody'); 
               }
               
               currPageNo = result.pageNo;
               currBtn.html(currPageNo);
               
               $(prevBtn.parent()).css("display","block");
           	   $(currBtn.parent()).css("display","block");
               $(nextBtn.parent()).css("display","block");
               
               if (result.pageNo == 1) {
                   $(prevBtn.parent()).addClass("disabled"); 
               } else {
                   $(prevBtn.parent()).removeClass("disabled");
               }
               
               if (result.lastPageNo == result.pageNo) {
                   $(nextBtn.parent()).addClass("disabled");
               } else {
                   $(nextBtn.parent()).removeClass("disabled");
               }
           },
           error: () => {
           }
       });
   }




prevBtn.click(() => {
	console.log(pageSize)
    load(currPageNo - 1,)
    console.log(currPageNo)
});
nextBtn.click(() => {
	console.log(pageSize)
    load(currPageNo + 1)
    console.log(currPageNo)
});

   var diagnosisModalView = $('#diagnosisModalView');
   var diagnosisModalViewContent = $('#diagnosisModalView .modal-content');

$(document).ready(function(){
$(".modalList").click( function(){
	var k = $(this).children().first().text();
	console.log(k)
	console.log(1111111111111111111)
	  diagnosisModalViewContent.load('../diagnosis/view.html', () => {
		  console.log(2222222222222222222)
       diagnosisModalView.modal();
      });
});
})


 
  /*  $(document).ready(function(){ 
       $('#businessInfo').click(function(e){
       		   businessViewModalContent.load('../business/view.html', () => {
               businessViewModal.modal();
           });
       });
   
   });
   */
   

   
   
   
</script>
