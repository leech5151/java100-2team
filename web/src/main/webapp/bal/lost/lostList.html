<div style="width: 1200px;" class="sg-paginate"> 
<a style="text-align: center;" id="sg-up" href="#" class="sg-up">Up</a>
<a id="sg-down" href="#" class="sg-down">Down</a> 
</div>
<div id="list" class="sg" style="width:1200px; height:700px; margin:0 ">
<br>
</div>
<br>
<br>

<link rel="stylesheet" type="text/css" href="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/css/smoothgallery.css">
<style type="text/css">

    .demo-wrap {
      max-width: 960px;
      margin: 0 auto;
      padding: 15px;
    }

    .button {
      text-decoration: none;
      color: #F0353A;
      border: 2px solid #F0353A;
      padding: 6px 10px;
      display: inline-block;
      font-size: 18px;
    }

    .button:hover {
      background: #F0353A;
      color: #fff;
    }
    </style>
    
<hr style="">
<script id="template" type="text/x-handlebars-template">
{{#each list}}
<div class="sg-item"> <a href="../../download/{{#each files}}{{filename}}{{/each}}"><img  style="width: 300px; height: 200px;" src="../../download/{{#each files}}{{filename}}{{/each}}"></a> <br>
<br>
<hr>
    <ul style="text-align: left;">
        <li style="size: 20px">이름 : {{petName}}</li>
        <li>품종 : {{breed}}</li>
        <li>연락처 : {{registrant.tel}}</li>
    </ul> 
        <button style="float: right; color: #8B8B8B;" type="button" id="viewBtn{{lostNo}}" class="btn btn-sm btn-light">+상세보기</button>
 </div>
{{/each}}
</script>
    
<script src="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/jquery/jquery-1.11.3.js"></script>
<script src="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/jquery/jquery.easing.js"></script>
<script type='text/javascript' src="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/js/smoothgallery.min.js"></script>

<script type="text/javascript">
$(window).load(function() {
   /*  $(document).smoothGallery({
        animSpeed:300, 
        delaySpeed:50,
        visibleRows: 2,
        animEasing: 'easeOutQuart'
    }); */
});
</script>

<script src='../../node_modules/handlebars/dist/handlebars.min.js'></script>
<script type="text/javascript">

var list = $('#lost #list'),
    templateSrc = $('#template').html(),
    templateEngine = Handlebars.compile(templateSrc);

load();

function load() {
       
    $.ajax('../../json/lost/list', {
        dataType: 'json',
        success: (result) => {
           list.html(templateEngine(result));
            $(document).smoothGallery({
                animSpeed:300, 
                delaySpeed:50,
                visibleRows: 2,
                animEasing: 'easeOutQuart'
            });
            $(document).ready(function(){ 
                $('button').click(function(e){
                    var id = e.target.getAttribute('id');
                    if ((id != '') && (id != null))  
                    var newId = '#' + id;
                   var lostNo = newId.substring(8);
                   $.ajax('../../json/lost/' + lostNo, {
                       dataType: 'json',
                       success: (result) => {
                       location.href = "../lost/lostForm.html?no=" + lostNo;
                       }
                   });
                });
            });
        },
        error: () => {
            window.alert("lost 실행 오류");
        }
    });
}

</script>
