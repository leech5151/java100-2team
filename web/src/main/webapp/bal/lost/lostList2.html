<!-- <div id="listData" class="sg" style="width:100%; height:80vh; margin:0 ">
<div style="height: 5vh; width: 100%;">
  <button id="leftBtn" type="button" style="left: 0;" class="btn btn-sm btn-primary">left</button>
  <button id="rightBtn" type="button" style="right: 0;" class="btn btn-sm btn-primary">right</button>
</div>
</div> -->
<br>
<br>

<link id="petListCss" rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" type="text/css" href="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/css/smoothgallery.css">
<style type="text/css">

    .demo-wrap {
      max-width: 960px;
      margin: 0 auto;
      padding: 15px;
    }

    .button {
      text-decoration: none;
      color: #F0353A;
      border: 2px solid #F0353A;
      padding: 6px 10px;
      display: inline-block;
      font-size: 18px;
    }

    .button:hover {
      background: #F0353A;
      color: #fff;
    }
    </style>
    
<hr style="">
<script id="listTemplate" type="text/x-handlebars-template">

{{#each list}}
<div id="mySlide" class="sg-item"> <a href="../../download/{{#each files}}{{filename}}{{/each}}"><img  style="width: 30rem; height: 20vh;" src="../../download/{{#each files}}{{filename}}{{/each}}"></a> <br>
<br>
<hr>
    <ul style="text-align: left;">
        <li style="size: 20px;">이름 : {{petName}}</li>
        <li>품종 : {{breed}}</li>
        <li>연락처 : {{registrant.tel}}</li>
    </ul> 
        <button style="float: right; color: #8B8B8B;" type="button" id="viewBtn{{lostNo}}" class="btn btn-sm btn-light">+상세보기</button>
 </div>
{{/each}}
</script>
    
<script src="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/jquery/jquery-1.11.3.js"></script>
<script src="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/jquery/jquery.easing.js"></script>
<script type='text/javascript' src="../../myDesign/lost/lightweight-image-gallery-lightbox-plugin-smooth-gallery/js/smoothgallery.min.js"></script>

<script src='../../node_modules/handlebars/dist/handlebars.min.js'></script>
<script type="text/javascript">

var list = $('#listData'),
    templateSrc = $('#listTemplate').html(),
    templateEngine = Handlebars.compile(templateSrc);

load();

function load() {
    $.ajax('../../json/lost/list', {
        dataType: 'json',
        success: (result) => {
           list.append(templateEngine(result));
           
           var slideIndex = 1;
           showDivs(slideIndex);

           function plusDivs(n) {
             showDivs(slideIndex += n);
           }

           function showDivs(n) {
             var i;
             
             var x = document.getElementsByClassName("#mySlides");
             if (n > x.length) {slideIndex = 1}    
             if (n < 1) {slideIndex = x.length}
             for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";  
             }
//              x[slideIndex-1].style.display = "block";  
           }

           var petList = result.list.length;
           var count = 0;
           function calculator(n) {
              count += n;
              if (count < 0) {
                  count = petList - 1;
              } else if (count == petList) {
                  count = 0;
              }
              return count;
           }
           
            $(document).ready(function(){ 
                $('button').click(function(e){
                    var id = e.target.getAttribute('id');
                    if ((id != '') && (id != null))  
                    var newId = '#' + id;
            
                   var lostNo = newId.substring(8);
                   $.ajax('../../json/lost/' + lostNo, {
                       dataType: 'json',
                       success: (result) => {
                       location.href = "../lost/lostForm.html?no=" + lostNo;
                       }
                   });
                });
            });
        },
        error: () => {
        	swal("조회 데이터가 없습니다.");
        }
    });
}

</script>
